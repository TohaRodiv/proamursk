{% extends "site/base.html" %}
{% load static static_version %}

{% block content %}
    <main class="light-bg">
        <div class="container">
            <div class="base-layout">
                {% if articles %}
                    <div class="base-layout__main">
                        {% with item=articles.0 css_class='grid-publication_format-full grid-publication_text-size-big' cover_name="8_column_img"  %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    </div>
                {% endif %}


                <aside class="base-layout__aside">
    {#                <div class="aside-widget">#}
    {#                    @@include('modules/offer-widget.html', {#}
    {#                        "class": "history",#}
    {#                        "text": "Любой житель Амурска может поделиться интересной историей с&nbsp;редакцией сайта.<br>Для нас очень важно участие амурчан в&nbsp;жизни своего города.",#}
    {#                        "btnText": "Поделиться историей"#}
    {#                    })#}
    {#                </div>#}

                    <div class="aside-widget">
                        <a href="news-details.html" class="sidebar-banner">
                            <img src="images/aside-banner2.jpg" alt="" class="sidebar-banner__img">
                        </a>
                    </div>
                </aside>
            </div>

            <div class="base-3items-grid">
                {% for item in articles|slice:"1:4" %}
                    {% if forloop.counter == 1 %}
                        {% with css_class='grid-publication_format-base grid-publication_cover-format-bigger' cover_name="3_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                    {% if forloop.counter == 2 %}
                        {% with css_class='grid-publication_format-full grid-publication_text-size-base' cover_name="3_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                    {% if forloop.counter == 3 %}
                        {% with css_class='grid-publication_format-base grid-publication_cover-format-6col' cover_name="6_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                {% endfor %}
            </div>

            <div class="base-3items-grid-inverse">
                {% for item in articles|slice:"4:7" %}
                    {% if forloop.counter == 1 %}
                        {% with css_class='grid-publication_format-base grid-publication_cover-format-6col' cover_name="6_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                    {% if forloop.counter == 2 %}
                        {% with css_class='grid-publication_format-full grid-publication_text-size-base' cover_name="3_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                    {% if forloop.counter == 3 %}
                        {% with css_class='grid-publication_format-base grid-publication_cover-format-bigger' cover_name="3_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endif %}
                {% endfor %}
            </div>

            <div class="js-infinity-loader-wrap">
                <div class="base-4items-grid js-infinity-loader-grid">
                    {% for item in articles|slice:"7:" %}
                        {% with css_class='grid-publication_format-base grid-publication_cover-format-bigger' cover_name="3_column_img" %}
                            {% include "site/modules/grid-publication.html" %}
                        {% endwith %}
                    {% endfor %}
                </div>
                {% if has_next %}
                    <button class="btn btn_blue btn_more btn_center js-more-history" data-page-count="1">Показать еще <span class="icon-arrow-down-dir"></span></button>
                {% endif %}
            </div>
        </div>
    </main>
{% endblock %}
